{"version":3,"file":"file-input-accessor.js","sources":["ng://file-input-accessor/lib/file-input-accessor.ts","ng://file-input-accessor/lib/file-input-accessor.module.ts","ng://file-input-accessor/public_api.ts","ng://file-input-accessor/file-input-accessor.ts"],"sourcesContent":["import {Directive, ElementRef, forwardRef, HostListener, Input, Renderer2} from '@angular/core';\nimport {\n    AbstractControl,\n    AsyncValidator,\n    AsyncValidatorFn,\n    ControlValueAccessor,\n    FormControl,\n    NG_ASYNC_VALIDATORS,\n    NG_VALUE_ACCESSOR,\n    ValidationErrors\n} from '@angular/forms';\n\nimport {forkJoin, fromEventPattern, Observable, of, ReplaySubject} from 'rxjs';\nimport {first, map, shareReplay, take} from 'rxjs/operators';\nimport {ICustomFile} from './interfaces';\n\n\n@Directive({\n    selector: 'input[type=file][formControl],input[type=file][formControlName],input[type=file][ngModel]',\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => FileInputAccessor),\n            multi: true\n        },\n        {\n            provide: NG_ASYNC_VALIDATORS,\n            useExisting: forwardRef(() => FileInputAccessor),\n            multi: true\n        }\n    ]\n})\nexport class FileInputAccessor implements ControlValueAccessor, AsyncValidator {\n    @Input() allowedTypes: RegExp | string | string[];\n\n    @Input() size: number;\n\n    @Input() withMeta: boolean;\n\n    @Input() maxHeight: number;\n\n    @Input() maxWidth: number;\n\n    @Input() minHeight: number;\n\n    @Input() minWidth: number;\n\n    @Input()\n    set allowedExt(value: RegExp | string | string[]) {\n        if (typeof value === 'string') {\n            value = value + '$';\n        }\n        if (value instanceof Array) {\n            value = value.join('|') + '$';\n        }\n        this._allowedExt = value;\n    }\n\n    get allowedExt(): RegExp | string | string[] {\n        return this._allowedExt;\n    }\n\n    validator: AsyncValidatorFn;\n\n    private _allowedExt: RegExp | string | string[];\n\n    @HostListener('change', ['$event.target.files']) onChange = (_: any) => {};\n    @HostListener('blur') onTouched = () => {};\n\n    constructor(private _renderer: Renderer2, private _elementRef: ElementRef) {\n        this.validator = this.generateAsyncValidator();\n    }\n\n    writeValue(value: any) {\n        this._renderer.setProperty(this._elementRef.nativeElement, 'value', null);\n    }\n\n    registerOnChange(fn: (_: any) => {}): void {\n        this.onChange = this.onChangeGenerator(fn);\n    }\n\n    registerOnTouched(fn: () => {}): void {}\n\n    setDisabledState(isDisabled: boolean): void {\n        this._renderer.setProperty(this._elementRef.nativeElement, 'disabled', isDisabled);\n    }\n\n    validate(c: AbstractControl): Observable<ValidationErrors | null> | Promise<ValidationErrors | null> {\n        return this.validator(c);\n    }\n\n    /**\n     * Generator method that I used to move the code for the AsyncValidator down here so it didn't\n     * get in my way, way up there ^.\n     */\n    private generateAsyncValidator(): AsyncValidatorFn {\n        return (c: FormControl): Observable<ValidationErrors> => {\n            if (!c.value || !c.value.length || c.disabled) return of({});\n\n            const errors: ValidationErrors = {};\n            const loaders: ReplaySubject<ProgressEvent>[] = [];\n\n            for (const f of c.value) {\n                if (this.size && this.size < f.size) {\n                    f.errors.fileSize = true;\n                    errors.fileSize = true;\n                }\n\n                if (f.isImg && (this.maxWidth || this.maxHeight || this.minWidth || this.minHeight)) {\n                    loaders.push(\n                        f.imgLoadReplay\n                            .pipe(\n                                take(1),\n                                map((e: ProgressEvent) => {\n                                    const minWidthError = this.minWidth && f.imgWidth < this.minWidth;\n                                    const minHeightError = this.minHeight && f.imgHeight < this.minHeight;\n                                    const maxWidthError = this.maxWidth && f.imgWidth > this.maxWidth;\n                                    const maxHeightError = this.maxHeight && f.imgHeight > this.maxHeight;\n\n                                    if (minWidthError) {\n                                        f.errors.minWidth = true;\n                                        errors.minWidth = true;\n                                    }\n\n                                    if (minHeightError) {\n                                        f.errors.minHeight = true;\n                                        errors.minHeight = true;\n                                    }\n\n                                    if (maxWidthError) {\n                                        f.errors.maxWidth = true;\n                                        errors.maxWidth = true;\n                                    }\n\n                                    if (maxHeightError) {\n                                        f.errors.maxHeight = true;\n                                        errors.maxHeight = true;\n                                    }\n\n                                    /** will be @deprecated **/\n                                    if (minWidthError || maxWidthError) {\n                                        f.errors.imageWidth = true;\n                                        errors.imageWidth = true;\n                                    }\n\n                                    /** will be @deprecated **/\n                                    if (minHeightError || maxHeightError) {\n                                        f.errors.imageHeight = true;\n                                        errors.imageHeight = true;\n                                    }\n\n                                    return e;\n                                }))\n                    );\n                }\n\n                if (!this.allowedExt && !this.allowedTypes) continue;\n\n                const extP = this.generateRegExp(this.allowedExt);\n                const typeP = this.generateRegExp(this.allowedTypes);\n\n                if (extP && !extP.test(f.name)) {\n                    f.errors.fileExt = true;\n                    errors.fileExt = true;\n                }\n\n                if (typeP && !typeP.test(f.type)) {\n                    f.errors.fileType = true;\n                    errors.fileType = true;\n                }\n            }\n            if (loaders.length) {\n                return forkJoin(...loaders).pipe(map(() => errors));\n            }\n            return of(errors);\n        };\n    }\n\n    /**\n     * Generator method that returns an onChange handler\n     */\n    private onChangeGenerator(fn: (_: any) => {}): (_: ICustomFile[]) => void {\n        return (files: ICustomFile[]) => {\n            const fileArr: File[] = [];\n\n            for (const f of files) {\n                if (this.withMeta && FileReader) {\n                    const fr = new FileReader();\n                    this.generateFileMeta(f, fr);\n                }\n                f.errors = {};\n                fileArr.push(f);\n            }\n            fn(fileArr);\n        };\n    }\n\n    private generateRegExp(pattern: RegExp | string | string[]): RegExp | null {\n        if (!pattern) return null;\n\n        if (pattern instanceof RegExp) {\n            return new RegExp(pattern);\n        } else if (typeof pattern === 'string') {\n            return new RegExp(pattern, 'ig');\n        } else if (pattern instanceof Array) {\n            return new RegExp(`(${pattern.join('|')})`, 'ig');\n        }\n        return null;\n    }\n\n    /**\n     * The ICustomFile has a ReplaySubject property for text / image files that will emit\n     * once the file has been loaded. Might get removed later since I haven't found a use for it yet.\n     */\n    private generateFileMeta(f: ICustomFile, fr: FileReader) {\n        if (f.type.match(/text.*/)) {\n            f.textLoadReplay = this.setText(f, fr);\n        } else if (f.type.match(/image.*/)) {\n            f.imgLoadReplay = this.setImage(f, fr);\n        }\n    }\n\n    private setImage(f: ICustomFile, fr: FileReader): ReplaySubject<[Event, ProgressEvent]> {\n        f.isImg = true;\n\n        const img = new Image();\n\n        const imgLoadObs = fromEventPattern<Event>(\n            ((handler: any) => img.addEventListener('load', handler)),\n            ((handler: any) => img.removeEventListener('load', handler))\n        ).pipe(\n            take(1),\n            shareReplay()\n        );\n\n        const frLoadObs = fromEventPattern<ProgressEvent>(\n            ((handler: any) => fr.addEventListener('load', handler)),\n            ((handler: any) => fr.removeEventListener('load', handler))\n        ).pipe(\n            take(1),\n            shareReplay()\n        );\n\n        const onloadReplay = new ReplaySubject<[Event, ProgressEvent]>(1);\n        forkJoin(imgLoadObs, frLoadObs).pipe(first()).subscribe(onloadReplay);\n\n        imgLoadObs.pipe(first()).subscribe(() => {\n            f.imgHeight = img.height;\n            f.imgWidth = img.width;\n        });\n\n        frLoadObs.pipe(first()).subscribe(() => {\n            f.imgSrc = fr.result + '';\n            img.src = fr.result + '';\n        });\n\n        fr.readAsDataURL(f);\n\n        return onloadReplay;\n    }\n\n    private setText(f: ICustomFile, fr: FileReader): ReplaySubject<ProgressEvent> {\n        const frLoadObs = fromEventPattern<ProgressEvent>(\n            ((handler: any) => fr.addEventListener('load', handler)),\n            ((handler: any ) => fr.removeEventListener('load', handler))\n        ).pipe(\n            take(1),\n            shareReplay()\n        );\n\n        const onloadReplay = new ReplaySubject<ProgressEvent>(1);\n        frLoadObs.subscribe(onloadReplay);\n\n        frLoadObs.pipe(first()).subscribe(() => {\n            f.textContent = fr.result + '';\n        });\n\n        fr.readAsText(f);\n\n        return onloadReplay;\n    }\n}\n","import {NgModule} from '@angular/core';\nimport {FileInputAccessor} from './file-input-accessor';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\n\n@NgModule({\n    declarations: [FileInputAccessor],\n    imports: [\n        FormsModule,\n        ReactiveFormsModule\n    ],\n    exports: [\n        FileInputAccessor,\n        FormsModule,\n        ReactiveFormsModule\n    ]\n})\nexport class FileInputAccessorModule {\n}\n","/*\n * Public API Surface of file-input-accessor\n */\n\nexport * from './lib/file-input-accessor';\nexport * from './lib/file-input-accessor.module';\nexport * from './lib/interfaces';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}